@using ECommerceLabb.Services
@using ECommerceLabb.Models;
@page "/products"
@inject ProductService ProductService

<PageTitle>Products</PageTitle>

<h3>Products</h3>

@if (products == null)
{
	<p>Loading...</p>
}
else
{
	<ul>
		@foreach (var product in products!)
		{
			<li>
				@product.Name ($@product.Price) 
				<br/> "@product.Description" 
				<br>
				<br/> Category: @product.Category 
				<br/> Status: @product.Status
			</li>
			<hr />
		}
	</ul>
}

@code {
	private List<Product>? products;

	protected override async Task OnInitializedAsync()
	{
		products = await ProductService.GetproductsAsync();
	}
}
